CREATE TABLE ESTUDIANTES(
ID INT AUTO_INCREMENT PRIMARY KEY,
MATRICULA  VARCHAR(20) NULL,
NOMBRE_C VARCHAR(30),
APELLIDO_P VARCHAR(30),
APELLIDO_M VARCHAR(30),
CONTRASEÑA  VARCHAR(30) NULL,
ESTATUS VARCHAR(5),
USUARIO INT,
TUTOR INT
);

CREATE DATABASE COLEGIO;

USE COLEGIO;

CREATE TABLE ESTUDIANTES(
ID INT AUTO_INCREMENT PRIMARY KEY,
MATRICULA  VARCHAR(20) NULL,
NOMBRE_C VARCHAR(60),
GRADO VARCHAR(30),
NIVEL VARCHAR(30),
CONTRASEÑA  VARCHAR(30) NULL
);

CREATE TABLE USUARIO(
ID INT AUTO_INCREMENT PRIMARY KEY,
TIPO VARCHAR(20),
DESCRIPCION VARCHAR(50)
);

CREATE TABLE ACCESOS(
ID INT AUTO_INCREMENT PRIMARY KEY,
HORA TIME,
FECHA DATE,
ESTUDIANTE INT
);

CREATE TABLE FORM_COVID(
ID INT AUTO_INCREMENT PRIMARY KEY,
P1 VARCHAR(20),
P2 VARCHAR(20),
P3 VARCHAR(20),
P4 VARCHAR(20),
P5 VARCHAR(20),
FECHA DATE,
ESTADO VARCHAR(10),
ESTUDIANTE INT
);

CREATE TABLE TUTORES(
ID INT AUTO_INCREMENT PRIMARY KEY,
NOMBRE_C VARCHAR(30),
APELLIDO_P VARCHAR(30),
APELLIDO_M VARCHAR(30),
CONTRASEÑA  VARCHAR(30) NULL
);

ALTER TABLE ESTUDIANTES ADD CONSTRAINT FK_USUARIO FOREIGN KEY(USUARIO) REFERENCES USUARIO(ID);

ALTER TABLE ESTUDIANTES ADD CONSTRAINT FK_TUTOR FOREIGN KEY(TUTOR) REFERENCES TUTORES(ID);

ALTER TABLE ACCESOS ADD CONSTRAINT FK_ESTUDIANTE FOREIGN KEY(ESTUDIANTE) REFERENCES ESTUDIANTES(ID);

ALTER TABLE FORM_COVID ADD CONSTRAINT FK_ESTUDIANTES FOREIGN KEY(ESTUDIANTE) REFERENCES ESTUDIANTES(ID);